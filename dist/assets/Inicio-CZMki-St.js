import{d as V,_ as S,u as T,r as _,o as x,c as a,a as c,b as s,w as B,e as b,f as M,v as k,t as i,F as D,g as L,h as g,i as w,j as N,k as O,l as o,n as P,m as u}from"./index-Dl9kvwXf.js";const q=V("meter",{state:()=>({meters:[]}),actions:{async fetchMeters(){try{await new Promise(m=>setTimeout(m,1e3)),this.meters=[{id:1,name:"Medidor 1",location:"Edificio A",status:"Operativo"},{id:2,name:"Medidor 2",location:"Edificio B",status:"En mantenimiento"},{id:3,name:"Medidor 3",location:"Planta 1",status:"Operativo"}]}catch(m){console.error("Error al cargar medidores:",m)}}}}),U={class:"inicio"},z={key:0,class:"login-wrapper"},F={class:"auth-container"},R={class:"form-group"},j={key:0,class:"error-message"},G={class:"form-group"},K={key:0,class:"error-message"},$=["disabled"],H={key:0,class:"global-message"},J={key:1,class:"dashboard"},Q={class:"inicio-header"},W={class:"header-content"},X={key:0,class:"selected-meter"},Y={key:1,class:"no-selection"},Z={class:"meters-list"},ee=["onClick"],se={class:"meter-name"},te={class:"meter-location"},ae={class:"meter-status"},oe={key:0,class:"subdashboard-nav"},ne={__name:"Inicio",setup(m){const l=T(),y=q(),h=O(),n=_({username:"",password:""}),p=_(!1),v=_(""),d=_({username:"",password:""}),E=()=>{let r=!0;return d.value.username=n.value.username?"":"El usuario es requerido",d.value.password=n.value.password?"":"La contraseña es requerida",(!n.value.username||!n.value.password)&&(r=!1),r},I=async()=>{if(E()){p.value=!0,v.value="";try{await new Promise(r=>setTimeout(r,1500)),await l.login(n.value),await y.fetchMeters(),h.push("/inicio")}catch(r){v.value=r.message||"Error al iniciar sesión"}finally{p.value=!1}}};function A(r){l.selectedMeter=r}function C(){h.push("/fleet")}return x(()=>{l.isAuthenticated&&y.fetchMeters()}),(r,e)=>{const f=N("router-link");return o(),a("div",U,[c(l).isAuthenticated?(o(),a("div",J,[s("header",Q,[s("div",W,[e[7]||(e[7]=s("h1",null,"Bienvenido a Analítica Energética",-1)),e[8]||(e[8]=s("p",null,"Dashboard de Inicio: Visualización de KPIs y estado de medidores",-1)),c(l).selectedMeter?(o(),a("div",X,[s("p",null,"Medidor seleccionado: "+i(c(l).selectedMeter.name),1)])):(o(),a("div",Y,e[6]||(e[6]=[s("p",null,"Seleccione un medidor de la lista para ver su información y navegar a sus dashboards.",-1)])))])]),s("section",Z,[e[11]||(e[11]=s("h2",null,"Medidores",-1)),s("ul",null,[(o(!0),a(D,null,L(c(y).meters,t=>(o(),a("li",{key:t.id,onClick:re=>A(t),class:P({"active-meter":t.status==="Operativo","inactive-meter":t.status!=="Operativo"})},[s("span",se,i(t.name),1),e[9]||(e[9]=u(" - ")),s("span",te,i(t.location),1),e[10]||(e[10]=u(" • ")),s("span",ae,i(t.status),1)],10,ee))),128))])]),c(l).selectedMeter?(o(),a("section",oe,[e[16]||(e[16]=s("h2",null,"Acceso rápido",-1)),g(f,{class:"nav-button",to:{name:"tiempo-real"}},{default:w(()=>e[12]||(e[12]=[u(" Tiempo Real ")])),_:1,__:[12]}),g(f,{class:"nav-button",to:{name:"tendencias"}},{default:w(()=>e[13]||(e[13]=[u(" Tendencias ")])),_:1,__:[13]}),g(f,{class:"nav-button",to:{name:"estadisticas"}},{default:w(()=>e[14]||(e[14]=[u(" Estadísticas ")])),_:1,__:[14]}),g(f,{class:"nav-button",to:{name:"dashboard"}},{default:w(()=>e[15]||(e[15]=[u(" Dashboard General ")])),_:1,__:[15]}),s("button",{onClick:C,class:"nav-button"}," Ir al mapa ")])):b("",!0),e[17]||(e[17]=s("div",{class:"dashboard-content"},[s("p",null,"Aquí se mostrará información principal del dashboard.")],-1))])):(o(),a("div",z,[s("div",F,[e[4]||(e[4]=s("div",{class:"energy-flow"},null,-1)),e[5]||(e[5]=s("h2",null,"Accede a tu cuenta",-1)),s("form",{onSubmit:B(I,["prevent"])},[s("div",R,[e[2]||(e[2]=s("label",{for:"username"},"Usuario (correo)",-1)),M(s("input",{id:"username","onUpdate:modelValue":e[0]||(e[0]=t=>n.value.username=t),type:"email",placeholder:"Ingresa tu correo"},null,512),[[k,n.value.username]]),d.value.username?(o(),a("span",j,i(d.value.username),1)):b("",!0)]),s("div",G,[e[3]||(e[3]=s("label",{for:"password"},"Contraseña",-1)),M(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>n.value.password=t),type:"password",placeholder:"Ingresa tu contraseña"},null,512),[[k,n.value.password]]),d.value.password?(o(),a("span",K,i(d.value.password),1)):b("",!0)]),s("button",{type:"submit",class:"btn-login",disabled:p.value},i(p.value?"Verificando...":"Ingresar"),9,$),v.value?(o(),a("div",H,i(v.value),1)):b("",!0)],32)])]))])}}},le=S(ne,[["__scopeId","data-v-b2694501"]]);export{le as default};
